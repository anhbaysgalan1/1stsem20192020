<template> <div class="ui mini modal" id="delDriverModal"> <div class="content"> <h3 style="text-align:center">Are you sure you want to delete this driver?</h3> <div class="ui divider"></div><div class="ui two column grid"> <div class="column"> <button class="ui red fluid button" type="button" @click="confirm()" :class="loadingButton?'loading disabled':''">Delete</button> </div><div class="column"> <button class="ui primary fluid button" type="button" @click="cancel()" :class="loadingButton?'loading disabled':''">Nevermind</button> </div></div></div></div></template><script>import firebase from 'firebase/app' var config={apiKey: 'AIzaSyAhJjt15mqS0p7a1a77TF8zDm6EHjVuoYQ', authDomain: 'firebase-adminsdk-v2kv5@beep-db-d2d2b.iam.gserviceaccount.com', databaseURL: "https://beep-db-d2d2b.firebaseio.com",}; var delDriver=firebase.initializeApp(config,"twentieth")import $ from 'jquery';window.$=window.jQuery=$;export default{props:{creds:{}}, data(){return{loadingButton: false,}}, methods:{confirm(){var $this=this this.loadingButton=true delDriver.auth().signInWithEmailAndPassword(this.creds.email,this.creds.password) .then(function(){var user=delDriver.auth().currentUser var userID=user.uid user.delete() $this.$db.collection('driver') .doc(userID) .update({status: 'suspend'}) .then(function(){$('#delDriverModal').modal('hide') $this.loadingButton=false})})}, cancel(){$('#delDriverModal').modal('hide')}}}</script>
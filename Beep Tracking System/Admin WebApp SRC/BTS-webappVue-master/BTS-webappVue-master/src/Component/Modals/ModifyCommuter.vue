<template> <div class="ui mini modal" id="modifyCommuterModal"> <div class="header">Modify Commuter</div><div class="content"> <form class="ui form" @submit.prevent="setCommuterStatus()" :class="loading?'loading':''"> <p style="text-align: center">Requested for</p><h2 style="text-align: center">{{Request}}</h2><!-- <select class="ui fluid dropdown" v-model="userTypeValue"> <option value="Free">Free</option> <option value="Premium">Premium</option> </select> --> <div class="ui divider"></div><button class="ui primary fluid button" type="submit">Confirm</button> <div class="ui divider"></div><button class="ui red fluid button" type="button" @click="closeModal()">Cancel</button> </form> </div><success/> </div></template><script>import $ from 'jquery';window.$=window.jQuery=$;import success from '@/Component/SuccessPopUp'export default{props:{uid:{}, Request:{}}, data(){return{loading: false, commuterUserID: ''}}, methods:{setCommuterStatus(){var $this=this this.loading=true var dt=new Date() var date=dt.setDate(dt.getDate() + 30) this.$db.collection('commuter') .doc($this.uid) .update({userType: $this.Request, date_expire: new Date(date)}) if(this.Request==='Vip'){this.$db.collection('requestVip') .doc($this.uid) .update({status: 0})}else{this.$db.collection('requestPremium') .doc($this.uid) .update({status: 0})}this.loading=false $('#successModal').modal('show')}, closeModal(){$('#modifyCommuterModal').modal('hide')}}, components:{success}}</script>
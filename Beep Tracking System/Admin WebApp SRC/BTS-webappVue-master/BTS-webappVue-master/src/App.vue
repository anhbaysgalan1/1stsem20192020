<template> <div id="app"> <div class="ui huge top inverted borderless attached menu" v-if="isAuthenticated"> <a @click="sidebar" class="item" id="buttonToggle"> <i class="sidebar icon"></i> Menu </a> <div class="item" @click="logout()">Logout</div></div><div class="ui left demo vertical inverted slide along sidebar menu" id="sidebar" v-if="isAuthenticated"> <div class="item"> <div class="ui mini image"> <img alt="Vue logo" src="./assets/logo.jpg"> </div><p id="titleHeader">Beep Tracking System</p></div><router-link class="item" to="/dashboard">Dashboard</router-link> <div class="item"> <div class="title" style="text-align: center;"><i class="briefcase icon"></i> Management</div><div class="content menu"> <router-link class="item" to="/commuters"><i class="users icon"></i>Commuters</router-link> <router-link class="item" to="/admins" v-if="user==='manager'"><i class="address card icon" v-if="user==='manager'"></i>Admins</router-link> <router-link class="item" to="/drivers"><i class="address book outline icon"></i>Drivers</router-link> <router-link class="item" to="/beeps"><i class="bus icon"></i> Beeps</router-link> <router-link class="item" to="/maps"><i class="map outline icon"></i>Maps</router-link> <router-link class="item" to="/route-management"><i class="road icon"></i>Route Management</router-link> </div></div><!-- <div class="item"> <div class="title" style="text-align: center;"><i class="clipboard icon"></i>Logs</div><div class="content menu"> <router-link class="item" to="/reports">Reports</router-link> <router-link class="item" to="/unit-maintenance">Unit Maintenance</router-link> <router-link class="item" to="/management-logs">Management Logs</router-link> </div></div>--> </div><router-view/> </div></template><script>import firebase from 'firebase/app'import{mapState}from 'vuex';import $ from 'jquery';window.$=window.jQuery=$;export default{data(){return{user: ''}}, methods:{logout(){var $this=this firebase.auth().signOut() .then(function(){localStorage.removeItem("BEEPTS-UserToken") localStorage.removeItem("Admin-Position") $this.$store.state.isAuthenticated=false $this.$router.push('/login')})}, /* if the page is refreshed, re-set the store isAuthenticated state with the Current UserToken for the navbar*/ async checkIfAuthenticated(){var auth=await localStorage.getItem("BEEPTS-UserToken") if(auth !==null){this.$store.state.isAuthenticated=true}}, sidebar(){$('.ui.sidebar').sidebar({dimPage: false, closable: false}).sidebar('toggle');}, checkAdminType(){this.user=localStorage.getItem('Admin-Position')}}, mounted(){this.checkIfAuthenticated() this.checkAdminType()}, computed: mapState(['isAuthenticated']),}</script><style>#titleHeader{display: inline-block; padding-left: 10px;}.left-align{text-align: left;}#sidebar .item{font-size: 15px;}body.home{background-image: url('./assets/wallpaper.jpg');}body.intro{/* background: pink; */}</style>
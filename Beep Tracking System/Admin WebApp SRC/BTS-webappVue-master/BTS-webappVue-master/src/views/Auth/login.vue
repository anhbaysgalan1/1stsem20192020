<template> <div class="ui one column centered grid"> <div class="ui cards" id="loginForm"> <div class="card"> <div class="content" style="padding: 20px 20px 20px 20px"> <div class="header"> <h3>Login</h3> </div><form class="ui form" @submit.prevent="login()" :class="button"> <div class="field"> <label style="text-align: left;" for="">E-mail</label> <input v-model="email" type="text" placeholder="Enter E-mail"> </div><div class="field"> <label style="text-align: left;" for="">Password</label> <div class="ui icon input"> <input v-model="password" :type="toggleShowPass?'text':'password'" placeholder="Enter Password" maxlength="12"> <i class="eye link icon" :class="toggleShowPass?'':'slash'" @click.stop="toggleShowPass=!toggleShowPass"></i> </div></div><div class="ui divider"></div><button class="ui blue fluid button" type="submit">Login</button> </form> <p><br>{{err}}</p></div></div></div></div></template><script>import firebase from 'firebase/app'export default{data(){return{toggleShowPass: false, email: '', password: '', err: '', button: ''}}, methods:{login(){var $this=this this.button='loading disabled' firebase.auth() .signInWithEmailAndPassword(this.email,this.password) .then(function(){var users=firebase.auth().currentUser.uid $this.$db.collection('admin').doc(users) .get() .then(function(doc){if(doc.exists){localStorage.setItem("BEEPTS-UserToken",users) localStorage.setItem("Admin-Position",doc.data().position) $this.$router.push('/dashboard') $this.$store.state.isAuthenticated=true}else{$this.err='The password is invalid or the user does not have a password.' $this.password='' $this.button=''}})}) .catch(function(error){$this.err=error.message $this.password='' $this.button=''});},}, beforeCreate: function(){document.body.className='home';},}</script><style scoped> #loginForm{margin: 14% 0 0 0;}</style>
<template><div class="ui container"> <table class="ui left aligned single fixed line table"> <thead> <tr> <th :colspan='colspanLength'> <h2 class="ui header left aligned"><i class="chart pie icon"></i>Commuters</h2> </th> </tr><tr> <th :colspan='colspanLength'><!-- <div class="ui search"> <div class="ui icon input"> <input class="prompt" type="text" placeholder="Search commuters..."> <i class="search icon"></i> </div></div>--> </th> </tr><tr> <th>Contact Number</th> <th>Name</th> <th>User Type</th> <th>Date Created</th> <th>Date VIP/Premium Expire</th> <th></th> </tr></thead> <tbody> <tr :key="commuter.contact_number" v-for="commuter in commuters"> <td>{{commuter.contact_number}}</td><td>{{commuter.name}}</td><td>{{commuter.userType}}</td><td>{{timeStampSet(commuter.date_created.seconds)}}</td><td>{{timeStampSet(commuter.date_expire.seconds)}}</td><td> </td></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr><loader v-if="loaded===false" :colspanLength="colspanLength"/></tr><tr v-if="loaded===true && (commuters.length < 1 || commuters===undefined)"> <td :colspan="colspanLength" style="text-align: center"> <h2>There are no commuters registered</h2> </td></tr></tbody> </table> </div></template><script>import loader from '@/Component/TablePlaceholder'import{timeStampset}from '@/utils/dateConverter.js'import $ from 'jquery';window.$=window.jQuery=$;export default{data: function(){return{commuters: [], colspanLength: 6, loaded: false,}}, methods:{loadUsers(){var $this=this this.$db.collection('commuter') .onSnapshot(function(querySnapshot){$this.commuters=[] querySnapshot.forEach(function(doc){$this.commuters.push(doc.data())}) $this.loaded=true})}, timeStampSet(getDate){return timeStampset(getDate)},}, mounted(){this.loadUsers(); document.title='BTS | Commuters';}, components:{loader,}}</script>